<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<!-- jQGrid 관련 js파일들 임포트 -->
<script src="/js/Guriddo_jqGrid_JS_5.5.4-Trial/js/jquery-1.11.0.min.js"></script> 
<script src="/js/Guriddo_jqGrid_JS_5.5.4-Trial/js/jquery.jqGrid.min.js"></script> 
<script src="/js/Guriddo_jqGrid_JS_5.5.4-Trial/js/i18n/grid.locale-kr.js"></script> 

<script src="/js/main.js?ver=1.0"></script>

<!-- jQGrid 관련 css파일들 임포트 -->
<link rel="stylesheet" href="/js/Guriddo_jqGrid_JS_5.5.4-Trial/css/ui.jqgrid-bootstrap-ui.css" />
<link rel="stylesheet" href="/js/Guriddo_jqGrid_JS_5.5.4-Trial/css/ui.jqgrid-bootstrap.css" />
<link rel="stylesheet" href="/js/Guriddo_jqGrid_JS_5.5.4-Trial/css/ui.jqgrid-bootstrap4.css" />
<link rel="stylesheet" href="/js/Guriddo_jqGrid_JS_5.5.4-Trial/css/ui.jqgrid.css" />

<!-- jQuery UI 관련 css파일들 임포트 -->
<link rel="stylesheet" href="/js/jquery-ui-1.12.1/jquery-ui.css" />
<link rel="stylesheet" href="/js/jquery-ui-1.12.1/jquery-ui.structure.css" />
<link rel="stylesheet" href="/js/jquery-ui-1.12.1/jquery-ui.theme.css" />

<script>
  $(function() {
    console.log(">>> $(): 1");
    main.ajaxCodeQnaToSelectBox("cateId");
    main.showGridDatas("/qna/selectAll", "GET", "gridData", colNames, colModel);
  });
  
  var qna = {
    onQnaWriteClick: function() {
      console.log("onQnaWriteClick()");
      main.ajaxGetHtml("/qna/qWriter", "contents");
    },
    
    onSearchBtnClick: function() {
      console.log("onSearchBtnClick()");
      main.showGridDatas("/qna/search", "GET", "gridData", colNames, colModel);
    },
    
  }

  var colNames =                         // 그리드 헤더의 제목(배열 형태임)  
        ["닉네임", "글번호", "카테고리ID", "공개여부", "제목", "질문", "작성자"]; 
     // ["ID", "글번호", "카테고리ID", "카테고리", "제목", "질문", "답변", "닉네임", "공개여부", "등록일"];
      
  var colModel = [                       // 그리드 행 데이터 정의(colNames의 갯수 = colModel 갯수) 
   //   {name: "id",       index: "id",       width: 5,  resizable: false, align: "center", hidden: true},
        {name: "nickname", index: "nickname", width: 5,  resizable: false, align: "center", hidden: true}, 
        {name: "no",       index: "no",       width: 5,   resizable: false, align: "right",  hidden: false}, 
        {name: "cateId",   index: "cateId",   width: 10,  resizable: true,  align: "left",   hidden: true}, 
   //   {name: "cate",     index: "cate",     width: 10,  resizable: true,  align: "left",   hidden: false},
        {name: "isPub",    index: "isPub",    width: 5,   resizable: false, align: "center", hidden: true}, 
        {name: "title",    index: "title",    width: 20,  resizable: true,  align: "left",   hidden: false},
        {name: "q",        index: "q",        width: 50,  resizable: true,  align: "left",   hidden: false},
   //   {name: "a",        index: "a",        width: 50,  resizable: true,  align: "left",   hidden: false},
   //   {name: "cDate",    index: "cDate",    width: 10,  resizable: false, align: "center", hidden: true},
        {name: "cUser",    index: "cUser",    width: 10,  resizable: false, align: "center", hidden: true}
  ]; 
  
</script>

</head>
<body>
  <h1>Q & A 목록</h1>
  <div id="QnASrch">
			  <h1>Q&A</h1>
		      <form id="QnASrchFrm">
		        <select name="cateId" id="cateId">
		        </select>
		        <input type="text" name="keyword" id="keyword">
		        <input type="button" value="검색" id="searchBtn" onclick="qna.onSearchBtnClick();">
		      </form>
	</div>
  <table id="gridData"></table>
  <div id="gridPager"></div>
	<div id="writeBtn">
		<input type="button" onclick="qna.onQnaWriteClick();" value="글 쓰기">
	</div>
</body>
</html>